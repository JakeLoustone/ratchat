<!DOCTYPE html>
<html>
    <head>
        <meta name="viewport" content="width=device-width,initial-scale=1.0">
        <meta name="robots" content="noindex, nofollow">
        
        <title>ratchat</title>
        <link rel="stylesheet" href="https://unpkg.com/98.css">
        <style>
    
        body {
            height: 100%;
            margin: 0;
            padding: 0rem;
            box-sizing: border-box;
            overflow: hidden;
        }

        .window{
            top: 0.25rem;
            left: 0.25rem;
            right: 0.25rem;
            bottom: 0.25rem;
            display: flex;
            flex-direction: column;
            margin: 0 !important;
            width: auto !important;
        }
        
        .window-body {
            display: flex;
            flex-direction: column;
            height: calc(100vh - 2rem);
            margin: 0 !important;
            padding: 0.2rem;
        }

        #form{
            display: flex;
            gap: 0;
            padding-top: 0.25rem;
        }

        #input {
            border: none;
            height: 2rem;
            padding: 0, 0.5rem;
            flex-grow: 1;
            font-size: large;
            margin-right: 0.3rem;
        }
        
        #input[readonly] {
            background-color: white !important;
            cursor: default;
        }
        
        #input:focus {
            outline: none;
        }

        #user-sidebar {
            width: 10%;
            min-width: 10rem;
            background: white;
            box-shadow: 
                        inset -0.0625rem -0.0625rem #fff, 
                        inset 0.0625rem 0.0625rem #0a0a0a, 
                        inset -0.125rem -0.125rem #dfdfdf, 
                        inset 0.125rem 0.125rem #808080;
            padding: 0.3125rem;
            margin-top: 0.25rem;
            margin-bottom: 0.25rem;         
            overflow-y: auto;
            flex-shrink: 0;
            display: flex;
            flex-direction: column;
            overflow: hidden;
            scrollbar-width: none; /* Firefox */
			-ms-overflow-style: none; /* IE/Edge */
		}

		#user-sidebar::-webkit-scrollbar {
			display: none; /* Chrome/Safari */
		}

        #messages-container {
            flex-grow: 1;
            overflow-y: auto;
            background-color: white;
            background-blend-mode: normal;
            background-repeat: 'repeat';
            background-position: center;
            background-size: 25%;
            box-shadow: inset -0.0625rem -0.0625rem #fff,
                        inset 0.0625rem 0.0625rem #0a0a0a, 
                        inset -0.125rem -0.125rem #dfdfdf, 
                        inset 0.125rem 0.125rem #808080;
            padding: 0.625rem;
            margin-top: 0.25rem;
            margin-bottom: 0.25rem;
            display: flex;
            flex-direction: column;
			overflow-y: auto;
			scrollbar-width: none; /* Firefox */
			-ms-overflow-style: none; /* IE/Edge */
		}
		#messages-container::-webkit-scrollbar {
			display: none; /* Chrome/Safari */
		}

        #error-dialog {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%) scale(1.5);
            width: 20 rem !important;
            height: auto !important;
            z-index: 1000;
            bottom: auto;
            right: auto;
        }

        #error-dialog .window-body {
            height: auto;
        }
    
        .fake-scrollbar {
            width: 1.2rem;
            background: #dfdfdf;
            display: flex;
            flex-direction: column;
            box-shadow: inset 0.0625rem 0.0625rem #808080, inset -0.0625rem -0.0625rem #fff;
            flex-shrink: 0;
            margin: 0.25rem 0.125rem;
        }

        .fake-scroll-button {
            width: 1.2rem;
            height: 1.2rem;
            padding: 0;
            min-width: 1.2rem;
            min-height: 1.2rem;
            font-size: 0.6rem;
            display: flex;
            align-items: center;
            justify-content: center;
            background: #c0c0c0;
            border: none;
            box-shadow: 
                inset 0.0625rem 0.0625rem #fff,
                inset -0.0625rem -0.0625rem #424242,
                inset 0.125rem 0.125rem #dfdfdf,
                inset -0.125rem -0.125rem #808080
        }

        .fake-scroll-track {
            flex-grow: 1;
            position: relative;
            background-image: 
                                linear-gradient(45deg, #e0e0e0 25%, transparent 25%), 
                                linear-gradient(-45deg, #e0e0e0 25%, transparent 25%), 
                                linear-gradient(45deg, transparent 75%, #e0e0e0 75%), 
                                linear-gradient(-45deg, transparent 75%, #e0e0e0 75%);
            background-size: 0.2rem 0.2rem;
            background-position: 0 0, 0 0.1rem, 0.1rem -0.1rem, -0.1rem 0rem;
            background-color: #bcbcbc; 
            box-shadow: inset 1px 1px 0 #808080, inset -1px -1px 0 #fff;
        }

        #fake-scroll-thumb {
            width: 90%;
            height: 2rem;
            background: #c0c0c0;
            position: absolute;
            left: 50%;
            transform: translateX(-50%);
            border: none; 
            box-shadow: 
                inset 0.0625rem 0.0625rem #fff,
                inset -0.0625rem -0.0625rem #424242,
                inset 0.125rem 0.125rem #dfdfdf,
                inset -0.125rem -0.125rem #808080
        }
        </style>
    </head>

    <body>
    <input type="file" id="bg-upload" style="display: none;" accept="image/*">
    <div class="window">
        <div class="title-bar">
            <div class="title-bar-text">ratchat32.exe</div>
            <div class="title-bar-controls">
                <button aria-label="Minimize"></button>
                <button aria-label="Maximize"></button>
                <button aria-label="Close"></button>
            </div>
        </div>

        <div class="window-body">
            <div style="display: flex; flex-direction: row; flex-grow: 1; overflow: hidden; gap: 0rem;">
                <div id="messages-container">
                    <div id="error-dialog" class="window">
                        <div class="title-bar">
                            <div class="title-bar-text">ratchat32.exe - fatal error</div>
                            <div class="title-bar-controls">
                                <button aria-label="Close"></button>
                            </div>
                        </div>
                        <div class="window-body">
                            <div style="display: flex; gap: 0.9375rem; align-items: center; margin: 0.625rem 0.3125rem 1.25rem 0.3125rem;">
                                <div style="font-size: 2rem; color: #ff0000; text-shadow: 0.0625rem 0.0625rem 0rem #000; user-select: none;">&#10006;</div>
                                <div>
                                    <p style="margin: 0 0 0.5rem 0;"><strong>teh ratchat is currently closed, dayo</strong></p>
                                    <p style="margin: 0; font-size: 0.6875rem; color: #333;">
                                        error code: 0x67<br>
                                        <br>
                                        come back later to squeak some more. see you soon.
                                    </p>
                                </div>
                            </div>
                            <div style="display: flex; justify-content: center; margin-bottom: 0.3125rem;">
                                <button style="width: 6.25rem;" onclick="window.location.href='/'">Return Home</button>
                            </div>
                        </div>
                    </div>
                    <ul id="messages"></ul>
                </div>

                <div class="fake-scrollbar">
                    <button class="fake-scroll-button" id="btn-up">&#9650;</button>
                    <div class="fake-scroll-track" id="track">
                        <div id="fake-scroll-thumb"></div>
                    </div>
                    <button class="fake-scroll-button" id="btn-down">&#9660;</button>
                </div>
                
                <div id="user-sidebar">
                    <ul id="user-list"></ul>
                </div>
            </div>

            <form id="form" action="">
                <input id="input" type="text" autocomplete="off" readonly disabled value="Connection lost..." />
                <button type="submit" disabled>Send</button>
            </form>
        </div>
    </div>
    <script>
        const savedBG = localStorage.getItem('ratBG');

        if (savedBG) {
            document.getElementById('messages-container').style.backgroundImage = `url('${savedBG}')`;
            document.getElementById('messages-container').style.backgroundColor = 'rgba(255, 255, 255, 0.5)';
            document.getElementById('messages-container').style.backgroundBlendMode = 'overlay';
        }
    </script>
    </body>
</html>